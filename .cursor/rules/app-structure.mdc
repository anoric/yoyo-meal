---
alwaysApply: true
---

ğŸ“ ä¸€ã€é¡¹ç›®ç»“æ„
wxcloudrun/
â”œâ”€â”€ views.py #å…¨éƒ¨æš´éœ²çš„æ¥å£
â”œâ”€â”€ **init**.py #é…ç½®
â”œâ”€â”€ models/
â”‚ â”œâ”€â”€ user.py
â”‚ â”œâ”€â”€ family.py
â”‚ â”œâ”€â”€ baby.py
â”‚ â”œâ”€â”€ ingredient.py
â”‚ â”œâ”€â”€ recipe.py
â”‚ â”œâ”€â”€ event.py
â”‚ â””â”€â”€ notification.py
â”œâ”€â”€ resources/
â”‚ â”œâ”€â”€ user_resource.py
â”‚ â”œâ”€â”€ family_resource.py
â”‚ â”œâ”€â”€ baby_resource.py
â”‚ â”œâ”€â”€ ingredient_resource.py
â”‚ â”œâ”€â”€ recipe_resource.py
â”‚ â”œâ”€â”€ event_resource.py
â”‚ â””â”€â”€ notification_resource.py
â””â”€â”€ utils.py #è¾…åŠ©å‡½æ•°

ğŸ” äºŒã€è®¤è¯ï¼ˆAuthenticationï¼‰

æ–¹æ³• è·¯å¾„ åŠŸèƒ½
POST '/api/auth/login è°ƒç”¨å¾®ä¿¡æˆæƒ

ğŸ‘¤ ä¸‰ã€ç”¨æˆ·æ¥å£ï¼ˆUsersï¼‰
æ–¹æ³• è·¯å¾„ åŠŸèƒ½
POST /users åˆ›å»ºç”¨æˆ·ï¼ˆæ³¨å†Œï¼‰
GET /users/<id> è·å–ç”¨æˆ·ä¿¡æ¯
PATCH /users/<id> æ›´æ–°ç”¨æˆ·èµ„æ–™
DELETE /users/<id> åˆ é™¤ç”¨æˆ·
ç¤ºä¾‹
POST /users
{
"nickname": "å¦ˆå¦ˆ",
"avatar_url": "https://cdn.app/avatar1.png"
}

å“åº”
{
"id": "uuid",
"nickname": "å¦ˆå¦ˆ",
"avatar_url": "https://cdn.app/avatar1.png",
"created_at": "2025-10-19T01:00:00Z"
}

ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ å››ã€å®¶åº­ç®¡ç†ï¼ˆFamiliesï¼‰
æ–¹æ³• è·¯å¾„ åŠŸèƒ½
POST /families åˆ›å»ºå®¶åº­
GET /families/<id> è·å–å®¶åº­ä¿¡æ¯
POST /families/<id>/members é‚€è¯·æˆ–æ·»åŠ å®¶åº­æˆå‘˜
GET /families/<id>/members è·å–å®¶åº­æˆå‘˜åˆ—è¡¨
POST /families
{
"name": "å°é±¼å„¿ä¹‹å®¶",
"created_by": "uuid-user"
}

ğŸ‘¶ äº”ã€å®å®ç®¡ç†ï¼ˆBabiesï¼‰
æ–¹æ³• è·¯å¾„ åŠŸèƒ½
POST /babies æ·»åŠ å®å®
GET /babies/<id> è·å–å®å®ä¿¡æ¯
GET /families/<family_id>/babies è·å–å®¶åº­ä¸‹æ‰€æœ‰å®å®
PATCH /babies/<id> æ›´æ–°å®å®ä¿¡æ¯
DELETE /babies/<id> åˆ é™¤å®å®
POST /babies
{
"family_id": "uuid-family",
"nickname": "å°é±¼å„¿",
"gender": "F",
"birth_date": "2024-05-01",
"avoid_ingredients": ["egg", "peanut"]
}

ğŸ å…­ã€é£Ÿæåº“ï¼ˆIngredientsï¼‰
æ–¹æ³• è·¯å¾„ åŠŸèƒ½
GET /ingredients è·å–æ‰€æœ‰é£Ÿæï¼ˆåˆ†é¡µï¼‰
GET /ingredients/<id> æŸ¥çœ‹å•ä¸ªé£Ÿæ
POST /ingredients æ·»åŠ æ–°é£Ÿæï¼ˆä»…ç®¡ç†å‘˜ï¼‰
PATCH /ingredients/<id> æ›´æ–°é£Ÿæä¿¡æ¯
GET /ingredients

å“åº”ï¼š

[
{
"id": "uuid",
"name": "èƒ¡èåœ",
"category": "è”¬èœ",
"risk_level": "low",
"nutrients": {"vitaminA": 25, "fiber": 1.2}
}
]

ğŸ§† ä¸ƒã€é£Ÿè°±ç®¡ç†ï¼ˆRecipesï¼‰
æ–¹æ³• è·¯å¾„ åŠŸèƒ½
POST /recipes åˆ›å»ºé£Ÿè°±ï¼ˆç³»ç»Ÿæˆ–äººå·¥ï¼‰
GET /recipes?baby_id=xxx&date=2025-10-19 æŸ¥è¯¢æŸå¤©çš„é£Ÿè°±
GET /babies/<id>/recipes è·å–å®å®çš„å…¨éƒ¨é£Ÿè°±è®°å½•
PATCH /recipes/<id> æ›´æ–°é£Ÿè°±å¤‡æ³¨
DELETE /recipes/<id> åˆ é™¤é£Ÿè°±
POST /recipes
{
"baby_id": "uuid-baby",
"recipe_date": "2025-10-19",
"auto_generated": true,
"notes": "ç³»ç»Ÿç”Ÿæˆçš„æœ¬å‘¨é£Ÿè°±"
}

ğŸ± å…«ã€é£Ÿè°±é¡¹ï¼ˆRecipe Itemsï¼‰
æ–¹æ³• è·¯å¾„ åŠŸèƒ½
POST /recipes/<recipe_id>/items æ·»åŠ é¤æ¬¡
GET /recipes/<recipe_id>/items è·å–é£Ÿè°±ä¸‹çš„æ‰€æœ‰é¤æ¬¡
PATCH /recipe-items/<id> ä¿®æ”¹é¤æ¬¡å†…å®¹
DELETE /recipe-items/<id> åˆ é™¤é¤æ¬¡
POST /recipes/<recipe_id>/items
{
"meal_type": "lunch",
"ingredients": [
{"id": "uuid1", "name": "èƒ¡èåœ"},
{"id": "uuid2", "name": "è‹¹æœ"}
],
"instructions": "è’¸ç†Ÿåæ…æ‹Œæ··åˆ"
}

ğŸ©º ä¹ã€ç‰¹æ®Šäº‹ä»¶ï¼ˆEventsï¼‰
æ–¹æ³• è·¯å¾„ åŠŸèƒ½
POST /events æ·»åŠ äº‹ä»¶ï¼ˆç”Ÿç—…/ç–«è‹—ç­‰ï¼‰
GET /babies/<baby_id>/events æŸ¥çœ‹å®å®çš„æ‰€æœ‰äº‹ä»¶
PATCH /events/<id> ä¿®æ”¹äº‹ä»¶ä¿¡æ¯
DELETE /events/<id> åˆ é™¤äº‹ä»¶
POST /events
{
"baby_id": "uuid-baby",
"event_type": "vaccine",
"start_date": "2025-10-18",
"end_date": "2025-10-19",
"description": "æ¥ç§ç™¾ç™½ç ´ç–«è‹—"
}
